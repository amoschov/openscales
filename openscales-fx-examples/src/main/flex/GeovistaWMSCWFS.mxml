<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:os="http://openscales.org" creationComplete="initMap();">
	<mx:Script>
		<![CDATA[
			import org.openscales.core.handler.mouse.DragHandler;
			import org.openscales.core.handler.IHandler;
			import org.openscales.core.handler.mouse.WheelHandler;
			import mx.events.ResizeEvent;
			import org.openscales.core.feature.Style;
			import org.openscales.core.control.MousePosition;
			import org.openscales.core.basetypes.Size;
			import org.openscales.core.feature.Vector;
			import org.openscales.core.Util;
			import org.openscales.core.basetypes.Pixel;
			import org.openscales.core.control.LayerSwitcher;
			import org.openscales.core.layer.WFS;
			import org.openscales.core.control.PanZoomBar;
			import org.openscales.core.layer.WMS;
			import org.openscales.core.layer.WMSC;
			import org.openscales.core.Map;
			import org.openscales.core.basetypes.Bounds;
			import mx.core.UIComponent;
			
			public var map:Map;
			
			private function initMap():void {
				
				map = fxmap.map;
				map.size=new Size(fxmap.width, fxmap.height);
				
				map.zoomToExtent(new Bounds(-77.92,40.75,-77.79,40.85));
								
				this.addEventListener(ResizeEvent.RESIZE,ResizeMap);
			}
			
			public function ResizeMap(event:ResizeEvent):void
			{
				this.map.width = fxmap.width;
				this.map.height = fxmap.height;
			}
		]]>
	</mx:Script>
	<os:Map id="fxmap" height="100%" width="100%" maxResolution="1" numZoomLevels="21">
		
		<os:MaxExtent left="-77.92" bottom="40.75" right="-77.79" top="40.85" />
				
		<os:WMSC name="Base Image" url="http://www.apps.geovista.psu.edu/tilecache/tilecache.py" layers="centreimagerygeogjpeg"
				 format="image/jpeg" isBaseLayer="true" />
		
		<os:WFS name="Blue Course Track" url="http://www.apps.geovista.psu.edu/geoserver/wfs" typename="golf:golf_7_2207"
				srs="EPSG:4326" version="1.0.0" isBaseLayer="false" minZoomLevel="21">
			<os:Style strokeColor="0x0000FF" />
		</os:WFS>

		<os:WFS name="White Course Track" url="http://www.apps.geovista.psu.edu/geoserver/wfs" typename="golf:golftracks2"
				srs="EPSG:4326" version="1.0.0" isBaseLayer="false" minZoomLevel="21">
			<os:Style strokeColor="0xFFFFFF" />
		</os:WFS>
		
		<!--Still an issue with ox:Extent tag that call map.zoomToExtent ... -->
		<!--<os:Extent left="-77.92" bottom="40.75" right="-77.79" top="40.85" />-->

		<os:MousePosition />
		<os:LayerSwitcher />
		
		<os:DragHandler />
		<os:ClickHandler />
		<os:WheelHandler />
	</os:Map>
</mx:Canvas>
