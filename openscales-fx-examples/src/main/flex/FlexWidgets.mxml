<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%"  xmlns:resize="flex.utils.ui.resize.*" xmlns:os="http://openscales.org" creationComplete="initMap();" xmlns:control="org.openscales.component.control.*" >
	
	<mx:Script>
		<![CDATA[
			import flex.utils.ui.resize.ResizableWindow;
			import org.openscales.core.handler.IHandler;
			import org.openscales.core.handler.mouse.DragHandler;
			import org.openscales.core.handler.mouse.WheelHandler;
			import mx.events.ResizeEvent;
			import org.openscales.core.Map;
			import org.openscales.core.popup.Popup;
			import org.openscales.core.control.MousePosition;
			import org.openscales.core.Marker;
			import org.openscales.core.feature.Feature;
			import org.openscales.core.layer.Markers;
			import org.openscales.core.control.PanZoom;
			import org.openscales.core.control.PanZoomBar;
			import org.openscales.core.basetypes.Bounds;
			import org.openscales.core.basetypes.LonLat;
			import org.openscales.core.basetypes.Size;
			import org.openscales.core.basetypes.Pixel;
			import org.openscales.core.control.LayerSwitcher;
			import org.openscales.core.layer.osm.OSM;
			import org.openscales.core.layer.osm.Maplint;
			import org.openscales.core.layer.osm.Mapnik;
			import org.openscales.core.layer.osm.Osmarender;
			
			[Bindable]
			public var map:Map; 
			
			public var feature:Feature; 
			
			public static var lon:Number=-43.584918945312495;
			public static var lat:Number=-3.5397294921874973;
        	
        	public var mark:Marker;
			
			private function initMap():void
			{
				map = fxmap.map;
				map.size=new Size(fxmap.width, fxmap.height);				
				
				map.addControl(pan, false);
					
			}

		]]>
	</mx:Script>
	
	<resize:ResizableWindow title="Pan" movable="true">
		<os:PanComponent id="pan" />
	</resize:ResizableWindow>
	
	<resize:ResizableWindow title="Capabilities" movable="true" x="34" y="418" width="472" height="300">
		<os:CapabilitiesComponent width="100%" height="100%" />
	</resize:ResizableWindow>
		
	<resize:ResizableWindow title="LayerSwitcher" movable="true" x="800" width="300" height="400">
		<mx:List id="displayedLayers" dataProvider="{map.layers}" itemRenderer="org.openscales.component.control.LayerSwitcher" width="100%" height="100%" labelField="name"/>
	</resize:ResizableWindow>
	
	<resize:ResizableWindow x="100" width="600" height="400" title="OpenScales" movable="true">
		<os:Map id="fxmap" width="100%" height="100%"
				  maxResolution="1" numZoomLevels="21" zoom="9"
				  lon="-43.584918945312495" lat="-3.5397294921874973">
			
			<os:Mapnik name="Mapnik"/>
			
			<os:DragHandler />
			<os:WheelHandler />
		<os:WheelHandler />
		</os:Map>	
	</resize:ResizableWindow>
	
	
</mx:Canvas>
